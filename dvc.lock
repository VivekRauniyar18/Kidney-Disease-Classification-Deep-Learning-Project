schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: ec59a797b97e07152c3c7fc5709f5750
      size: 600
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 5b6b7c705dd7c675bb2ce3f41b90b6ed
      size: 883
    outs:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 80302ec9b53200fff15a6ef4f39120a4.dir
      size: 1903510436
      nfiles: 7363
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: ec59a797b97e07152c3c7fc5709f5750
      size: 600
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 380c394d79b6737f3cc1e95621fc8f81
      size: 989
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: bc215b76f514483a1d71c66c8c05b0e1.dir
      size: 118058104
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 80302ec9b53200fff15a6ef4f39120a4.dir
      size: 1903510436
      nfiles: 7363
    - path: artifacts/prepare_base_model
      hash: md5
      md5: bc215b76f514483a1d71c66c8c05b0e1.dir
      size: 118058104
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: ec59a797b97e07152c3c7fc5709f5750
      size: 600
    - path: src/cnnClassifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 2fc158a03adaeed29e942df48a189866
      size: 916
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 88bf4f045af229553ba89c223b381409
      size: 59138368
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 80302ec9b53200fff15a6ef4f39120a4.dir
      size: 1903510436
      nfiles: 7363
    - path: artifacts/training/model.h5
      hash: md5
      md5: 88bf4f045af229553ba89c223b381409
      size: 59138368
    - path: config/config.yaml
      hash: md5
      md5: ec59a797b97e07152c3c7fc5709f5750
      size: 600
    - path: src/cnnClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 5c640351a9f8108afb881b88dbf7d263
      size: 913
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: b4e37c7dff6582c2d9f5a3b4bc7e812b
      size: 69
